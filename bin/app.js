define("src/utils",[],function(){var a={};return a.init=function(a){a.util.pxToNumber=function(a){return parseInt(a,10)},a.util.trimString=function(a){return a.replace(/^\s*|\s*$/g,"")},a.util.getQueryParams=function(){var a=window.location.search.slice(1),b=a.split("&"),c={};return _.each(b,function(a){var b=a.split("=");c[b[0]]=b[1]}),c},a.util.getRotation=function(a){return parseFloat(a.attr("style").match(/rotate\((-*\d+)deg\)/)[1])},a.util.moveLastKeyframe=function(b,c){c=+c;var d=b.getTrackNames(),e=b.getTrackLength(d[0])-1;_.each(d,function(a){b.modifyKeyframeProperty(a,e,{millisecond:c})}),a.config.animationDuration=c},a.util.getFormulaFromEasingFunc=function(a){var b=a.toString().replace("\n",""),c=b.replace(/.*return\s*/g,""),d=c.replace(/\}|;\s*\}$/g,"");return d}},a}),define("src/ui/checkbox",[],function(){return Backbone.View.extend({events:{change:"_onChange"},initialize:function(a){_.extend(this,a),a.callHandlerOnInit&&(this.delegateEvents(),this.$el.trigger("change"))},_onChange:function(a){this.onChange.call(this,a,this.$el.attr("checked")==="checked")}})}),define("src/ui/select",[],function(){function a(a){var b=a.config.selects.x.$el.val(),c=a.config.selects.y.$el.val(),d=a.config.selects.r.$el.val();return[b,c,d].join(" ")}return Backbone.View.extend({events:{change:"onChange"},initialize:function(a){_.extend(this,a),_.each(Tweenable.prototype.formula,function(a,b){var c=$(document.createElement("option"),{value:b});c.html(b),this.$el.append(c)},this)},onChange:function(b){this.app.config.currentActor.modifyKeyframe(this.app.config.animationDuration,{},{transform:a(this.app)}),this.app.canvasView.backgroundView.update(),this.app.kapi.update()}})}),define("src/ui/auto-update-textfield",[],function(){return Backbone.View.extend({events:{keyup:"onKeyup",keydown:"onKeydown"},initialize:function(a){_.extend(this,a)},onKeyup:function(a){var b=this.$el.val();this.onValReenter&&this.onValReenter(b)},onKeydown:function(a){var b=a.which;b==38&&this.onArrowUp?this.onArrowUp():b==40&&this.onArrowDown&&this.onArrowDown()}})}),define("src/ui/ease-field",["./auto-update-textfield"],function(AutoUpdateTextFieldView){return AutoUpdateTextFieldView.extend({initialize:function(a){AutoUpdateTextFieldView.prototype.initialize.apply(this,arguments);var b=this.$el.data("easename"),c=Tweenable.prototype.formula[b],d=this.app.util.getFormulaFromEasingFunc(c);this.$el.val(d),this.$el.data("lastvalidfn",d)},onValReenter:function(val){var easename=this.$el.data("easename"),lastValid=this.$el.data("lastvalidfn");if(lastValid===val)return;try{eval("Tweenable.prototype.formula."+easename+" = function (x) {return "+val+"}"),this.$el.data("lastvalidfn",val),this.$el.removeClass("error"),this.app.canvasView.backgroundView.update(),this.app.kapi.update()}catch(ex){eval("Tweenable.prototype.formula."+easename+" = function (x) {return "+lastValid+"}"),this.$el.addClass("error")}}})}),define("src/ui/crosshair",[],function(){var a=$(window),b=['<div class="crosshair {{extraClass}}" data-pos="{{position}}" data-percent="{{percent}}">','<div class="dashmark horiz"></div>','<div class="dashmark vert"></div>','<div class="rotation-arm">','<div class="rotation-handle">',"</div>","</div>"].join(""),c=Backbone.View.extend({events:{"mousedown .rotation-arm":"onClickRotationArm"},initialize:function(a){_.extend(this,a),this.$el.dragon({within:this.$el.parent(),dragStart:_.bind(this.dragStart,this),dragEnd:_.bind(this.dragEnd,this)}),this.$el.css("transform","rotate(0deg)"),this._isRotating=!1,this.model.set("percent",+this.$el.data("percent")),this.model.crosshairView=this,this.render()},onClickRotationArm:function(a){this.startRotating(a.clientX,a.clientY),a.stopPropagation()},onMouseupRotatorArm:function(a){this.stopRotating()},onMouseMoveRotator:function(a){this.rotateForDragDelta(a.clientX,a.clientY)},onKeyupRotator:function(a){this.stopRotating()},dragStart:function(a,b){this.dimPathLine()},dragEnd:function(a,b){this.updateModel(),this.app.view.cssOutputView.renderCSS(),publish(this.app.constant.UPDATE_CSS_OUTPUT)},render:function(){this.$el.css({left:this.model.get("x")+"px",top:this.model.get("y")+"px",transform:"rotate("+this.model.get("r")+"deg)"})},updateModel:function(){var a=this.app.util.pxToNumber;this.model.set({x:a(this.$el.css("left")),y:a(this.$el.css("top")),r:this.app.util.getRotation(this.$el)}),publish(this.app.constant.KEYFRAME_UPDATED),this.app.collection.keyframes.updateModelKeyframeViews(),this.app.kapi.update()},dimPathLine:function(){this.app.canvasView.backgroundView.update(!0)},startRotating:function(b,c){this._previousRotationDragX=0,this._previousRotationDragY=0,this._currentRotationDragX=b,this._currentRotationDragY=c,this._mouseupHandler=_.bind(this.onMouseupRotatorArm,this),this._mousemoveHandler=_.bind(this.onMouseMoveRotator,this),this._keyupHandler=_.bind(this.onKeyupRotator,this),this._isRotating=!0,a.on("mouseup",this._mouseupHandler).on("mousemove",this._mousemoveHandler).on("keyup",this._keyupHandler)},stopRotating:function(){this._isRotating=!1,this.updateModel(),a.off("mouseup",this._mouseupHandler).off("mousemove",this._mousemoveHandler).off("keyup",this._keyupHandler)},rotateForDragDelta:function(a,b){this._previousRotationDragX=this._currentRotationDragX,this._previousRotationDragY=this._currentRotationDragY,this._currentRotationDragX=a,this._currentRotationDragY=b;var c=a-this._previousRotationDragX,d=b-this._previousRotationDragY,e=c+d,f=this.app.util.getRotation(this.$el),g=f+e;this.$el.css("transform","rotate("+g+"deg)")}});return c.generateHtml=function(a,c,d){return Mustache.render(b,{extraClass:a,position:c,percent:d})},c}),define("src/ui/crosshairs",["src/ui/crosshair"],function(a){return Backbone.View.extend({initialize:function(a){_.extend(this,a)},addCrosshairView:function(b){var c=this.app.collection.keyframes.length,d=c%2?$(a.generateHtml("from","from",b.get("percent"))):$(a.generateHtml("to","to",b.get("percent")));this.$el.append(d);var e=new a({app:this.app,$el:d,model:b})}})}),define("src/ui/background",[],function(){return Backbone.View.extend({initialize:function(a){_.extend(this,a),this.context=this.$el[0].getContext("2d"),this.resize({height:a.height,width:a.width})},resize:function(a){_.each(["height","width"],function(b){if(b in a){var c={};c[b]=a[b],this.$el.css(c).attr(c)}},this)},generatePathPoints:function(a,b,c,d,e,f){var g=[],h={x:a,y:b},i={x:c,y:d},j={x:e,y:f},k,l;for(k=0;k<=this.app.constant.RENDER_GRANULARITY;k++)l=Tweenable.interpolate(h,i,1/this.app.constant.RENDER_GRANULARITY*k,j),g.push(l);return g},generatePathPrerender:function(a,b,c,d,e,f,g){this.app.config.prerenderedPath=document.createElement("canvas"),this.app.config.prerenderedPath.width=this.app.canvasView.$canvasBG.width(),this.app.config.prerenderedPath.height=this.app.canvasView.$canvasBG.height();var h=this.app.config.prerenderedPath.ctx=this.app.config.prerenderedPath.getContext("2d"),i=this.generatePathPoints.apply(this,arguments),j;h.beginPath(),_.each(i,function(a){j?h.lineTo(a.x,a.y):h.moveTo(a.x,a.y),j=a}),h.lineWidth=1;var k=g?"rgba(255,176,0,.5)":"rgb(255,176,0)";h.strokeStyle=k,h.stroke(),h.closePath()},update:function(a){var b=this.app.collection.keyframes.first().getAttrs(),c=this.app.collection.keyframes.last().getAttrs();this.generatePathPrerender(b.x,b.y,c.x,c.y,this.app.config.selects.x.$el.val(),this.app.config.selects.y.$el.val(),a),this.app.config.prerenderedPath&&(this.$el[0].width=this.$el.width(),this.app.config.isPathShowing&&this.context.drawImage(this.app.config.prerenderedPath,0,0))}})}),define("src/ui/canvas",["src/ui/background"],function(a){var b=$(window),c=$("header");return Backbone.View.extend({initialize:function(a){_.extend(this,a),this.initDOM()},initDOM:function(){var c=b.height(),d=b.width();this.backgroundView=new a({app:this.app,$el:this.$canvasBG,height:c,width:d});var e=this.getDOMActor();this.app.kapi.addActor(e),this.app.config.currentActor=e,this.setDOMKeyframePoints(e),b.on("resize",_.bind(this.onWindowResize,this))},onWindowResize:function(a){var d=b.height()-c.outerHeight(),e=b.width();this.app.kapi.canvas.height(d),this.app.kapi.canvas.width(e),this.backgroundView.resize({height:d,width:e}),this.backgroundView.update()},getDOMActor:function(){var a=$("#rekapi-canvas").children();return new Kapi.DOMActor(a[0])},setDOMKeyframePoints:function(a){a.keyframe(0,this.app.collection.keyframes.first().getCSS(),"linear linear").keyframe(+this.app.config.initialDuration,this.app.collection.keyframes.last().getCSS(),"linear linear")}})}),define("src/ui/pane",[],function(){var a=$(window);return Backbone.View.extend({CONTAINER_TEMPLATE:['<div class="pane"></div>'].join(""),HANDLE_TEMPLATE:['<div class="pane-handle"></div>'].join(""),CONTENT_WRAPPER_TEMPLATE:['<div class="pane-content"></div>'].join(""),events:{},initialize:function(b){_.extend(this,b),this.$handle=$(this.HANDLE_TEMPLATE),this.$el.wrap($(this.CONTAINER_TEMPLATE)),this.$el=this.$el.parent(),this.$el.wrapInner($(this.CONTENT_WRAPPER_TEMPLATE)).prepend(this.$handle).css({left:a.width()-this.$el.outerWidth(!0)}).dragon({within:this.$el.parent(),handle:".pane-handle"}),this.oldSize=this.getSize(),a.on("resize",_.bind(this.onResize,this))},onResize:function(b){var c=this.$el.outerWidth(!0),d=a.width();this.$el.offset().left+c>d&&this.$el.css("left",d-c)},getSize:function(){return{height:this.$el.height(),width:this.$el.width()}},toggle:function(){this.$el.fadeToggle(this.app.constant.TOGGLE_FADE_SPEED)}})}),define("src/ui/tabs",[],function(){return Backbone.View.extend({ACTIVE_CLASS:"tabs-active",events:{"click .tabs li":"onTabClick"},initialize:function(a){_.extend(this,a),this.delegateEvents(),this.tabs=this.$el.find(".tabs").children(),this.contents=this.$el.find(".tabs-contents").children(),this.tabs.eq(0).trigger("click")},onTabClick:function(a){a.preventDefault();var b=$(a.currentTarget);this.tabs.removeClass(this.ACTIVE_CLASS),b.addClass(this.ACTIVE_CLASS),this.contents.css("display","none"),$("#"+b.data("target")).css("display","block")}})}),define("src/ui/css-output",[],function(){function b(b){var c=[];return _.each(b.config.activeClasses,function(b,d){b&&c.push(a[d])}),c}var a={moz:"mozilla",ms:"microsoft",o:"opera",webkit:"webkit",w3:"w3"};return Backbone.View.extend({events:{},initialize:function(a){_.extend(this,a),this.$trigger.on("click",_.bind(this.onTriggerClick,this))},onTriggerClick:function(a){this.renderCSS()},renderCSS:function(){var a=this.app.kapi.toCSS({vendors:b(this.app),name:this.app.view.cssNameFieldView.$el.val(),iterations:this.app.config.animationIteration.val(),isCentered:this.app.config.isCenteredToPath});this.$el.val(a)}})}),define("src/ui/html-input",[],function(){return Backbone.View.extend({events:{keyup:"onKeyup"},initialize:function(a){_.extend(this,a),this.$renderTarget=$("#rekapi-canvas .rekapi-actor"),this.initialValue=this.readFromDOM(),this.$el.html(this.initialValue)},onKeyup:function(){this.renderToDOM()},readFromDOM:function(){return this.app.util.trimString(this.$renderTarget.html())},renderToDOM:function(){var a=this.$el.val()||this.initialValue;this.$renderTarget.html(a)}})}),define("src/ui/incrementer-field",["src/ui/auto-update-textfield"],function(a){return a.extend({increment:10,initialize:function(b){a.prototype.initialize.call(this,b)},tweakVal:function(a){this.$el.val(parseInt(this.$el.val(),10)+a),this.$el.trigger("keyup")},onArrowUp:function(){this.tweakVal(this.increment)},onArrowDown:function(){this.tweakVal(-this.increment)}})}),define("src/ui/keyframe-form",["src/ui/incrementer-field"],function(a){function b(b){return new a({app:this.app,$el:b,onValReenter:_.bind(function(a){this.model.set(b.data("keyframeattr"),+a),publish(this.app.constant.KEYFRAME_UPDATED),this.app.collection.keyframes.updateModelCrosshairViews(),this.app.kapi.update()},this)})}return Backbone.View.extend({events:{},KEYFRAME_TEMPLATE:['<li class="keyframe">',"<h3></h3>","<label>","<span>X:</span>",'<input class="quarter-width keyframe-attr-x" type="text" data-keyframeattr="x"></input>',"</label>","<label>","<span>Y:</span>",'<input class="quarter-width keyframe-attr-y" type="text" data-keyframeattr="y"></input>',"</label>","<label>","<span>R:</span>",'<input class="quarter-width keyframe-attr-r" type="text" data-keyframeattr="r"></input>',"</label>","</li>"].join(""),initialize:function(a){_.extend(this,a),this.app=this.owner.app,this.$el=$(this.KEYFRAME_TEMPLATE),this.model.keyframeForm=this,this.initDOMReferences(),this.initIncrementers(),this.render()},initDOMReferences:function(){this.header=this.$el.find("h3"),this.inputX=this.$el.find(".keyframe-attr-x"),this.inputY=this.$el.find(".keyframe-attr-y"),this.inputR=this.$el.find(".keyframe-attr-r")},initIncrementers:function(){this.incrementerViews={},_.each([this.inputX,this.inputY,this.inputR],function(a){this.incrementerViews[a.data("keyframeattr")]=b.call(this,a)},this)},render:function(){this.header.html(this.model.get("percent")+"%"),this.model.get("x")!==parseFloat(this.inputX.val())&&this.inputX.val(this.model.get("x")),this.model.get("y")!==parseFloat(this.inputY.val())&&this.inputY.val(this.model.get("y")),this.model.get("r")!==parseFloat(this.inputR.val())&&this.inputR.val(this.model.get("r"))}})}),define("src/ui/keyframe-forms",["src/ui/keyframe-form"],function(a){return Backbone.View.extend({initialize:function(a){_.extend(this,a),this.keyframeForms={}},addKeyframeView:function(b){var c=new a({owner:this,model:b});this.keyframeForms[c.cid]=c,this.$el.append(c.$el)},render:function(){_.each(this.keyframeForms,function(a){a.render()})}})}),define("src/ui/modal",[],function(){var a=$(window);return Backbone.View.extend({events:{},initialize:function(a){_.extend(this,a),this.$el.css("display","none").removeClass("hid"),this._windowKeyhandler=_.bind(this.onWindowKeydown,this),this._windowClickhandler=_.bind(this.onWindowClick,this),this.$triggerEl.on("click",_.bind(this.onTriggerClick,this))},onTriggerClick:function(a){this.toggle(),a.stopPropagation(),a.preventDefault()},onWindowKeydown:function(a){a.keyCode===27&&this.hide()},onWindowClick:function(a){!$.contains(this.$el[0],a.srcElement)&&this.$el[0]!==a.srcElement&&this.hide()},show:function(){this.$el.fadeIn(this.app.constant.TOGGLE_FADE_SPEED),a.on("keydown",this._windowKeyhandler).on("click",this._windowClickhandler)},hide:function(){this.$el.fadeOut(this.app.constant.TOGGLE_FADE_SPEED),a.off("keydown",this._windowKeyhandler).off("click",this._windowClickhandler)},toggle:function(){this.$el.is(":visible")?this.hide():this.show()}})}),define("src/ui/hotkey-handler",[],function(){return Backbone.View.extend({events:{keydown:"onKeydown",keyup:"onKeyup"},initialize:function(a){_.extend(this,a)},onKeydown:function(a){if(a.target!==this.$el[0])return;a.shiftKey?this.$el.addClass("shift-down"):a.keyCode===67?this.app.view.controlPaneView.toggle():a.keyCode===72?this.app.view.helpModal.toggle():a.keyCode===32?this.app.kapi.isPlaying()?this.app.kapi.pause():this.app.kapi.play():a.keyCode===84&&this.app.view.rekapiControls.fadeToggle()},onKeyup:function(a){this.$el.removeClass("shift-down")}})}),define("src/ui/rekapi-controls",[],function(){return Backbone.View.extend({events:{},initialize:function(a){_.extend(this,a),this.scrubber=new RekapiScrubber(this.app.kapi,this.app.canvasView.$canvasBG[0]),this.$el=this.scrubber.$container},fadeToggle:function(){this.$el.fadeToggle(this.app.constant.TOGGLE_FADE_SPEED)}})}),define("src/model/keyframe",[],function(){return Backbone.Model.extend({initialize:function(a,b){_.extend(this,b),subscribe(this.app.constant.KEYFRAME_UPDATED,_.bind(this.updateActor,this))},validate:function(a){var b=!1;_.each(a,function(a){typeof a!="number"&&(b=!0)});if(b)return"Number is NaN"},updateActor:function(a){this.app.canvasView&&this.app.canvasView.backgroundView.update();var b=this.get("percent")===0?0:this.app.config.animationDuration;this.app.config.currentActor&&(this.app.config.currentActor.modifyKeyframe(b,this.getCSS()),a||this.app.kapi.update())},getCSS:function(){return{transform:["translateX(",this.get("x"),"px) translateY(",this.get("y"),"px) rotate(",this.get("r"),this.app.config.isCenteredToPath?"deg) translate(-50%, -50%)":"deg)"].join("")}},getAttrs:function(){return{x:this.get("x"),y:this.get("y"),r:this.get("r")}}})}),define("src/ui/keyframe",[],function(){return Backbone.View.extend({initialize:function(a){_.extend(this,a),this.app.view.crosshairs.addCrosshairView(this.model),this.app.view.keyframeForms.addKeyframeView(this.model)}})}),define("src/collection/keyframes",["src/model/keyframe","src/ui/keyframe"],function(a,b){return Backbone.Collection.extend({model:a,initialize:function(a,c){var d=this.app=c.app;this.on("add",function(a){new b({app:d,model:a})})},updateModelKeyframeViews:function(){if(!this.models[0].keyframeForm)return;_.each(this.models,function(a){a.keyframeForm.render()})},updateModelCrosshairViews:function(){if(!this.models[0].crosshairView)return;_.each(this.models,function(a){a.crosshairView.render()})}})}),require(["src/utils","src/ui/checkbox","src/ui/select","src/ui/auto-update-textfield","src/ui/ease-field","src/ui/crosshair","src/ui/crosshairs","src/ui/canvas","src/ui/pane","src/ui/tabs","src/ui/css-output","src/ui/html-input","src/ui/keyframe-forms","src/ui/incrementer-field","src/ui/modal","src/ui/hotkey-handler","src/ui/rekapi-controls","src/collection/keyframes"],function(utils,CheckboxView,SelectView,AutoUpdateTextFieldView,EaseFieldView,crosshair,CrosshairsView,CanvasView,PaneView,TabsView,CSSOutputView,HTMLInputView,KeyframeFormsView,IncrementerFieldView,ModalView,HotkeyHandlerView,RekapiControlsView,KeyframeCollection){var $win=$(window),app={config:{activeClasses:{}},constant:{},events:{},util:{},view:{},collection:{}};_.extend(app.constant,{PRERENDER_GRANULARITY:150,RENDER_GRANULARITY:100,KEYFRAME_UPDATED:"keyframeUpdated",UPDATE_CSS_OUTPUT:"updateCSSOutput",TOGGLE_FADE_SPEED:200,INITIAL_KEYFRAMES:2}),app.config.activeClasses.moz=!1,app.config.activeClasses.ms=!1,app.config.activeClasses.o=!1,app.config.activeClasses.webkit=!1,app.config.activeClasses.w3=!0,utils.init(app),app.constant.QUERY_STRING=app.util.getQueryParams();var customEase1FnString=["Tweenable.prototype.formula.customEase1 = ","function (x) {return Math.pow(x, 4);}"].join("");eval(customEase1FnString);var customEase2FnString=["Tweenable.prototype.formula.customEase2 = ","function (x) {return Math.pow(x, 0.25);}"].join("");eval(customEase2FnString),app.kapi=new Kapi({context:document.getElementById("rekapi-canvas"),height:$win.height(),width:$win.width()}),app.config.selects={x:new SelectView({$el:$("#x-easing"),app:app}),y:new SelectView({$el:$("#y-easing"),app:app}),r:new SelectView({$el:$("#r-easing"),app:app})},app.view.hotkeyHandlerView=new HotkeyHandlerView({app:app,$el:$(document.body)}),app.view.helpModal=new ModalView({app:app,$el:$("#help-contents"),$triggerEl:$("#help-trigger")}),app.view.durationFieldView=new IncrementerFieldView({app:app,$el:$("#duration"),onValReenter:function(a){if(!isNaN(a)){var b=Math.abs(a);this.app.util.moveLastKeyframe(this.app.config.currentActor,b)}}}),app.config.animationDuration=app.config.initialDuration=+app.view.durationFieldView.$el.val(),app.config.animationIteration=$("#iterations"),app.config.easeFields=[],$(".ease").each(function(a,b){var c=new EaseFieldView({$el:$(b),app:app});app.config.easeFields.push(c)});var halfCrossHairHeight=$("#crosshairs .crosshair:first").height()/2,crosshairStartingY=$win.height()/2-halfCrossHairHeight;app.view.keyframeForms=new KeyframeFormsView({app:app,$el:$("#keyframe-controls .controls")}),app.view.crosshairs=new CrosshairsView({app:app,$el:$("#crosshairs")}),app.collection.keyframes=new KeyframeCollection([],{app:app});var winWidth=$win.width();_.each([0,100],function(a,b){app.collection.keyframes.add({x:b?winWidth-winWidth/(b+1):40,y:crosshairStartingY,r:0,percent:a},{app:app})}),app.canvasView=new CanvasView({app:app,$el:$("#rekapi-canvas"),$canvasBG:$("#tween-path")}),app.view.rekapiControls=new RekapiControlsView({app:app}),app.canvasView.backgroundView.update(),app.constant.QUERY_STRING.debug||app.kapi.play(),app.view.showPathView=new CheckboxView({app:app,$el:$("#show-path"),callHandlerOnInit:!0,onChange:function(a,b){this.app.config.isPathShowing=!!b,this.app.kapi.update(),this.app.canvasView.backgroundView.update()}}),app.view.controlPaneView=new PaneView({app:app,$el:$("#control-pane")}),app.view.controlPaneTabsView=new TabsView({app:app,$el:$("#control-pane")}),app.view.cssOutputView=new CSSOutputView({app:app,$el:$("#css-output textarea"),$trigger:app.view.controlPaneTabsView.$el.find('[data-target="css-output"]')}),subscribe(app.constant.UPDATE_CSS_OUTPUT,function(){app.view.cssOutputView.renderCSS()}),app.view.cssNameFieldView=new AutoUpdateTextFieldView({app:app,$el:$("#css-name"),onKeyup:function(a){this.app.config.className=a,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.mozCheckboxView=new CheckboxView({app:app,$el:$("#moz-toggle"),onChange:function(a,b){this.app.config.activeClasses.moz=b,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.msCheckboxView=new CheckboxView({app:app,$el:$("#ms-toggle"),onChange:function(a,b){this.app.config.activeClasses.ms=b,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.oCheckboxView=new CheckboxView({app:app,$el:$("#o-toggle"),onChange:function(a,b){this.app.config.activeClasses.o=b,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.webkitCheckboxView=new CheckboxView({app:app,$el:$("#webkit-toggle"),onChange:function(a,b){this.app.config.activeClasses.webkit=b,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.w3CheckboxView=new CheckboxView({app:app,$el:$("#w3-toggle"),onChange:function(a,b){this.app.config.activeClasses.w3=b,publish(app.constant.UPDATE_CSS_OUTPUT)}}),app.view.htmlInputView=new HTMLInputView({app:app,$el:$("#html-input textarea")}),app.view.centerToPathView=new CheckboxView({app:app,$el:$("#center-to-path"),callHandlerOnInit:!0,onChange:function(a,b){this.app.config.isCenteredToPath=!!b;var c=this.app.config.isCenteredToPath?"0 0":"";app.view.htmlInputView.$renderTarget.css("transform-origin",c),publish(this.app.constant.KEYFRAME_UPDATED,[!0]),this.app.kapi.update()}}),$(window).trigger("resize"),app.constant.QUERY_STRING.debug&&(window.app=app)}),define("src/init",function(){})